{
  "name": "叙事主线",
  "description": "主线情节叙事",
  "debug": true,
  "creative": false,
  "lidar": true,
  "storyStatus": {
    "initial_staged": 0,
    "keyhelp_staged": 0,
    "keypad_usingTime": 0,
    "caught_entities": [],
    "terminal_status": 1
  },
  "dependencies": [
    {
      "id": "red_monster",
      "path": "/scripts/src/enemies/red_monster.js"
    },
    {
      "id": "system_terminal",
      "path": "/scripts/src/layers/terminal.js"
    },
    {
      "id": "security_keypad",
      "path": "/scripts/src/layers/keypad.js"
    },
    {
      "id": "lyric_speaker",
      "path": "/scripts/src/layers/speaker.js"
    }
  ],
  "preload": [
    "/assets/models/facilities/main_facility_v2.1.glb",
    "/assets/models/enemies/monster with bit.glb"
  ],
  "entities": [
    {
      "name": "主人公",
      "id": "self",
      "properties": {
        "coordinates": [0, 0, 0],
        "rotation": [0, 0, 0]
      }
    },
    {
      "name": "主设施",
      "id": "main_facility",
      "path": "/assets/models/facilities/main_facility_v2.1.glb",
      "mesh_path": "/assets/models/facilities/main_facility_v2.1_mesh.glb",
      "properties": {
        "coordinates": [0, -2, 0],
        "lidar_color": "#007015",
        "intensity_drop": 1,
        "live_long": true,
        "rotation": [0, 0, 0]
      }
    },
    {
      "name": "红色怪物",
      "id": "red_monster",
      "path": "/assets/models/enemies/monster with bit.glb",
      "properties": {
        "coordinates": [22, -1, -50],
        "lidar_color": "#700000",
        "platform": "main_facility",
        "intensity_drop": 10,
        "rotation": [0, 0, 0]
      },
      "interact_callback": ["ter.toggle()"]
    },
    {
      "name": "鹅",
      "id": "swan",
      "path": "/assets/models/enemies/swan.glb",
      "properties": {
        "coordinates": [0, 4.5, 1],
        "lidar_color": "#700000",
        "intensity_drop": 5,
        "rotation": [0, 0, 0]
      },
      "interact_callback": ["ter.toggle()"]
    },
    {
      "name": "系统终端",
      "id": "system_terminal",
      "properties": {
        "activated": false,
        "coordinates": [-3, 1, -5],
        "lidar_color": "#0080FF",
        "intensity_drop": 0.7,
        "rotation": [0, 0, 0]
      },
      "interact_callback": ["ter.toggle()"]
    },
    {
      "name": "安全密码锁",
      "id": "security_keypad",
      "properties": {
        "activated": false,
        "coordinates": [3, 1, -5],
        "lidar_color": "#FFD700",
        "intensity_drop": 0.8,
        "rotation": [0, 0, 0]
      },
      "interact_callback": ["keypad.toggle()"]
    }
  ],
  "speeches": [
    {
      "name": "初始台词",
      "id": "initial",
      "properties": {
        "description": "刚进入游戏说的话",
        "text": "这里？是哪里？",
        "duration": 2000,
        "coordinates": [0, 0, 0],
        "activated": false
      },
      "distance_callback": []
    },
    {
      "name": "交互教学",
      "id": "keyhelp",
      "properties": {
        "description": "交互教学",
        "text": "按<span style='color: #ffff00; font-weight: bold;'>鼠标左键</span>发射点阵照亮前方",
        "duration": 3000,
        "coordinates": [0, 0, 0],
        "activated": false
      },
      "distance_callback": []
    },
    {
      "name": "第一次打开密码箱",
      "id": "keypad_first",
      "properties": {
        "description": "第一次打开密码箱时说的话",
        "text": "看起来我需要寻找密码。",
        "duration": 3000,
        "coordinates": [0, 0, 0],
        "activated": false
      },
      "distance_callback": []
    },
    {
      "name": "再次打开密码箱",
      "id": "keypad_then",
      "properties": {
        "description": "之后每次打开密码箱时说的话",
        "text": "密码是多少呢？",
        "duration": 1000,
        "coordinates": [0, 0, 0],
        "activated": false
      },
      "distance_callback": []
    },
    {
      "name": "密码正确",
      "id": "keypad_success",
      "properties": {
        "description": "密码输入正确了，此时传送到未知位置",
        "text": "??眼前的场景似乎变化了！",
        "duration": 2000,
        "activated": false,
        "coordinates": [0, 0, 0]
      },
      "distance_callback": []
    }
  ],
  "global":{
    "interact_distance": 3
  },
  "shortcut": {
    "KeyL": "core.scene.toggleLidar()",
    "KeyT": "ter.toggle()",
    "KeyK": "keypad.toggle()",
    "KeyD": "core.devtool.toggle()",
    "KeyC": "core.script.creative ^= 1",
    "KeyB": "core.scene.updateDebug();",
    "KeyV": "core.scene.clearDebug();"
  },
  "scripts": [
    "speaker=new lyric_speaker()",
    "core.scene.load('main_facility')",
    "core.layers.push(core.scene)",
    "core.scene.spawn()",
    "core.scene.load('red_monster')",
    "rdm1=new red_monster('red_monster')",
    "ter=new system_terminal('system_terminal')",
    "keypad=new security_keypad('security_keypad')",
    "keypad.setPassword('654321')"
  ]
}
