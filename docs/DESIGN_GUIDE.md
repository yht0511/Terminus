# 设计规范 (Design Guide) - Terminus

> 统一视觉 / 交互 / 文案 / 组件命名标准，保障后续扩展一致性。

## 1. 品牌与基调
| 关键词 | 描述 |
|--------|------|
| 主题 | 赛博、冷色、末日静止时间感 |
| 氛围 | 孤寂 + 科学仪式感 + 微妙不安 |
| 叙事语气 | 稍带讽刺、理性、克制 |

## 2. 颜色系统
| Token | 值 | 用途 | 说明 |
|-------|----|------|------|
| `--primary-color` | `#00FFFF` | 主交互色 / 高亮 | 需保持霓虹发光感 |
| `--background-color` | `#0D0D0D` | 页面背景 | 近黑防止纯黑刺眼 |
| `--text-color` | `#E0E0E0` | 标准文本 | 与背景 7:1 对比 |
| `--hover-color` | `#FFFFFF` | 按钮 hover | 与 primary 叠加发光 |
| `status-success`* | `#20c997` | 成功提示 | 未在 CSS 中，建议统一 Token |
| `status-danger`* | `#e63946` | 危险/破坏操作 | 确认删除/退出提示 |
| `lidar-point-default` | `#FFFFFF` | 点云缺省颜色 | 运行时计算衰减 |
| `lidar-point-object` | 来自实体属性 | 自定义显示颜色 | 通过实体 `lidar_color` |

> 带 * 为建议新增 Token，避免散落硬编码。

## 3. 字体 & 排版
| 元素 | 字体 | Weight | 说明 |
|------|------|--------|------|
| 标题 (H1/H2) | Orbitron | 700 | 大写 + 字间距 4px |
| 正文 | Noto Sans SC | 300–400 | 中英文混排友好 |
| 按钮 | Noto Sans SC | 400 | 统一字号 1rem |
| 代码/调试 | monospace | normal | 开发者工具面板 |

字号建议（可引入变量）：
```
--font-size-h1: clamp(3rem, 6vw, 4rem);
--font-size-h2: 2rem;
--font-size-body: 1rem;
--font-size-small: 0.85rem;
```

## 4. 间距与布局
| 场景 | 水平内边距 | 垂直内边距 | 备注 |
|------|------------|------------|------|
| 主菜单面板 | 40px | 40px | max-width:900px |
| 按钮组间距 | 15px | - | 列表式 |
| 输入框间距 | 10px | - | 登录/注册 |
| 暂停菜单按钮 | 12–16px | - | 适度紧凑 |

网格约束建议：未来可引入 8px 基线系统（所有尺寸取 8 的倍数，当前接近）。

## 5. 组件规范
### 5.1 按钮（.menu-button）
| 状态 | 视觉 |
|------|------|
| 默认 | 透明背景 + 青色描边 + 文字青色 |
| Hover | 背景填充青色 + 文字反相 + 发光阴影 |
| 禁用* | 30% 透明度 + 无光效 | *可后续加入 |

交互建议：按钮触发后 120ms 内防抖，避免双击重复菜单切换。

### 5.2 面板（.menu-page）
- 背景：`rgba(10,25,47,0.8)` 半透明层
- 动画：`fadeIn 0.5s` / `fadeOut 0.3s`
- 阴影：`var(--crt-glow)` 体现 CRT / 霓虹感
- active 切换通过添加/移除 `.active`

### 5.3 对话框
| 类型 | 触发 | 关闭方式 | 备注 |
|------|------|----------|------|
| 通知 (#notification-box) | JS (`show`类) | 自动或脚本 | 上移淡出动画 |
| 确认 | 用户操作 | 按钮 | 危险操作 Yes 按钮建议危色 |
| Prompt | 需要输入 | 提交/取消 | 聚焦输入框 |

### 5.4 Lidar 点云
| 属性 | 描述 |
|------|------|
| 点大小 | 固定屏幕像素（sizeAttenuation=false） |
| 寿命 | lifeTime / lifeRes 衰减 -> 颜色强度 |
| 采样策略 | 行扫描 + 列抖动 + 随机子集激光线 |
| 阈值 | live_long 点保持最低 20% 亮度 |

可视改进：支持根据实体类别映射调色板（设施 / 敌对 / 交互对象）。

## 6. 动效原则
| 场景 | 时长 | 曲线 | 说明 |
|------|------|------|------|
| 面板进入 | 500ms | ease-out | 渐显 + 轻微上移 |
| 面板退出 | 300ms | ease-in | 反向 |
| 按钮 hover | 200ms | linear | 即时反馈 |
| 通知出现 | 300ms | ease-out | scale 0.95 -> 1 |
| 通知消失 | 500ms | ease-in | 上移 + 透明 |
| Lidar 扫描 | 300ms 行进度 | linear | 行推进过程中增量绘制 |

全局建议：不超过 600ms 的交互延迟；避免阻塞输入。

## 7. 文案 / 语气规范
| 类型 | 风格 | 示例 |
|------|------|------|
| 系统提示 | 简洁 / 无感情过度修饰 | 保存成功 / 存档已删除 |
| 叙事旁白 | 亲切 + 带讽刺 | “你又回来了？” |
| 危险操作 | 明确后果 | 确认要覆盖此存档吗？ |
| Debug 输出 | 技术直述 | Collider rebuild: 4 meshes |

命名统一：
- 存档：`存档名 (时间戳)`
- 成就：`[类型] 简短动词 + 名词` (例：`探索：初次启动`)

## 8. 无障碍与可访问性（建议）
| 项 | 当前 | 建议 |
|----|------|------|
| 颜色对比 | 主文本 OK | 按钮 hover 文字对比需测试 |
| 键盘导航 | 未统一 | 为所有按钮加 tabindex 与 :focus 可视样式 |
| 屏幕阅读 | 无 aria 标签 | 为对话框/按钮添加 aria-label/role |
| 动画减少 | 未判断 | 读取 `prefers-reduced-motion` 降级动画 |

## 9. 命名规范（CSS / JS）
| 类别 | 规则 | 示例 |
|------|------|------|
| ID | kebab-case | `#pause-menu-overlay` |
| 类 | kebab-case | `.menu-page`, `.menu-button` |
| JS 变量 | camelCase | `savedGamesList` |
| 全局窗口注入 | 小写或业务语义 | `core`, `rdm1` (建议规范化) |

建议：增加 `data-*` 属性标识功能型元素（例如 `data-view="load-game"`）。

## 10. 版本与变更追踪
| 版本 | 说明 | 日期 |
|------|------|------|
| 0.1 | 初始整理：颜色 / 字体 / 组件 / 动效 / 语气 | 2025-09-05 |

未来：放入 `docs/CHANGELOG_DESIGN.md` 按语义化版本记录 UI/交互破坏性变更。

## 11. 待办 / 改进清单
| 项 | 优先级 | 说明 |
|----|--------|------|
| 组件状态：按钮 disabled | 中 | 增加语义状态样式 |
| 统一通知 API | 中 | `notify(type,message,{duration})` 封装 |
| 动画偏好检测 | 低 | `prefers-reduced-motion` 自适应 |
| 成就视觉层级 | 低 | 徽章 / 进度条 |
| 多语言支持 | 中 | 文案抽取 JSON / i18n key |
| WebGL 不支持兜底页 | 低 | 浏览器能力检测 |

---
（完）
